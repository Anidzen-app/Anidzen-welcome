<script setup lang="ts">
import { isTauri } from '@tauri-apps/api/core'
import { Capacitor } from '@capacitor/core'

const toast = useToast()

onMounted(async () => {
  const isTauriApp = isTauri()
  const isCapacitor = Capacitor.isNativePlatform()

  if (isTauriApp || isCapacitor) return

  const cookie = useCookie('cookie-consent')
  if (cookie.value === 'accepted') {
    return
  }

  toast.add({
    title: 'ğŸª ĞœÑ‹ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµĞ¼ ÑĞ¾Ğ±ÑÑ‚Ğ²ĞµĞ½Ğ½Ñ‹Ğµ Ñ„Ğ°Ğ¹Ğ»Ñ‹ cookie, Ñ‡Ñ‚Ğ¾Ğ±Ñ‹ ÑƒĞ»ÑƒÑ‡ÑˆĞ¸Ñ‚ÑŒ Ğ²Ğ°Ñˆ Ğ¾Ğ¿Ñ‹Ñ‚ Ğ½Ğ° Ğ½Ğ°ÑˆĞµĞ¼ ÑĞ°Ğ¹Ñ‚Ğµ.',
    duration: 0,
    close: false,
    actions: [{
      size: 'md',
      label: 'âœ… ĞŸÑ€Ğ¸Ğ½ÑÑ‚ÑŒ',
      color: 'neutral',
      variant: 'outline',
      onClick: () => {
        cookie.value = 'accepted'
      }
    }, {
      size: 'md',
      label: 'ğŸš« ĞÑ‚ĞºĞ°Ğ·Ğ°Ñ‚ÑŒÑÑ',
      color: 'neutral',
      variant: 'ghost'
    }]
  })
})
</script>

<template>
  <div />
</template>
